**Внимание!** В этой части Максютин забыл расставить N в IP-адресах, так что в решении это сделано за него.

1. Оставляем топологию из [предыдущей части](../Lab_07_2/Lab_07_2.md) лабораторной работы.

2. Удаляем сети 10.N.0.8/30, 192.N.0.0/24 и 192.N.1.0/24 из области 0 OSPF-процесса 1 на маршрутизаторах AR3 и AR4:

   ```
                       [AR3] ospf 1
                [AR3-ospf-1] area 0
   [AR3-ospf-1-area-0.0.0.0] undo network 10.N.0.8 0.0.0.3
   [AR3-ospf-1-area-0.0.0.0] undo network 192.N.0.0 0.0.0.255
   [AR3-ospf-1-area-0.0.0.0] undo network 192.N.1.0 0.0.0.255
   ```

   ```
                       [AR4] ospf 1
                [AR4-ospf-1] area 0
   [AR4-ospf-1-area-0.0.0.0] undo network 10.N.0.8 0.0.0.3
   [AR4-ospf-1-area-0.0.0.0] undo network 192.N.0.0 0.0.0.255
   [AR4-ospf-1-area-0.0.0.0] undo network 192.N.1.0 0.0.0.255
   ```

3. Добавляем сеть 10.N.0.8/30 к области 3 OSPF-процесса 1 на маршрутизаторах AR3 и AR4:

   ```
                       [AR3] ospf 1
                [AR3-ospf-1] area 3
   [AR3-ospf-1-area-0.0.0.3] network 10.N.0.8 0.0.0.3
   ```

   ```
                       [AR4] ospf 1
                [AR4-ospf-1] area 3
   [AR4-ospf-1-area-0.0.0.3] network 10.N.0.8 0.0.0.3
   ```

4. Объявляем область 3 NSSA для маршрутизаторов AR3 и AR4:

   ```
                       [AR3] ospf 1
                [AR3-ospf-1] area 3
   [AR3-ospf-1-area-0.0.0.3] nssa
   ```

   ```
                       [AR4] ospf 1
                [AR4-ospf-1] area 3
   [AR4-ospf-1-area-0.0.0.3] nssa
   ```

5. На маршрутизаторе AR4 объявляем сети 192.N.0.0/24 и 192.N.1.0/24 внешними типа 1:

   ```
          [AR4] ospf 1
   [AR4-ospf-1] import-route direct type 1
   ```

6. Проверяем, что сети 192.N.0.0/24 и 192.N.1.0/24 появились в таблицах маршрутизации AR1, AR2 и AR3:

   ```
   <AR1> display ip routing-table
   ```

   ```
   <AR2> display ip routing-table
   ```

   ```
   <AR3> display ip routing-table
   ```

   - Характеристики маршрута до этих сетей для маршрутизаторов:

     | Маршрутизатор | Протокол | Административное <br/>расстояние |
     |--------------:|:--------:|:--------------------------------:|
     |       **AR1** |   O_ASE  |                150               |
     |       **AR2** |   O_ASE  |                150               |
     |       **AR3** |  O_NSSA  |                150               |

7. Просматриваем таблицу маршрутизации OSPF на AR1, AR2 и AR3:

   ```
   <AR1> display ospf routing
   ```

   ```
   <AR2> display ospf routing
   ```

   ```
   <AR3> display ospf routing
   ```

   При отслеживании внешних маршрутов от AR4 к AR1 видим, что:

   - Тип внешних маршрутов не меняется.
   - Метрика внешних маршрутов увеличивается на единицу.

8. Добавляем статический маршрут на AR4:

   ```
   [AR4] ip route-static 20.0.0.0 24 LoopBack 0
   ```

9. Объявляем добавленный маршрут внешним типа 2:

   ```
          [AR4] ospf 1
   [AR4-ospf-1] import-route static type 2
   ```
10. Проверяем, что маршрут до сети 20.0.0.0/24 появился в таблицах маршрутизации AR1, AR2 и AR3:

    ```
    <AR1> display ip routing-table
    ```

    ```
    <AR2> display ip routing-table
    ```

    ```
    <AR3> display ip routing-table
    ```

    - Характеристики маршрута до этой сети для маршрутизаторов:

      | Маршрутизатор | Протокол | Административное <br/>расстояние |
      |--------------:|:--------:|:--------------------------------:|
      |       **AR1** |   O_ASE  |                150               |
      |       **AR2** |   O_ASE  |                150               |
      |       **AR3** |  O_NSSA  |                150               |

11. Просматриваем таблицу маршрутизации OSPF на AR1, AR2 и AR3:

    ```
    <AR1> display ospf routing
    ```

    ```
    <AR2> display ospf routing
    ```

    ```
    <AR3> display ospf routing
    ```

    При отслеживании маршрута до сети 20.0.0.0/24 от AR4 к AR1 видим, что:

    - Тип маршрута не меняется.
    - Метрика маршрута не меняется.

12. Объявляем область 3 Totally NSSA для маршрутизаторов AR3 и AR4:

    ```
                        [AR3] ospf 1
                 [AR3-ospf-1] area 3
    [AR3-ospf-1-area-0.0.0.3] nssa no-summary
    ```

    ```
                        [AR4] ospf 1
                 [AR4-ospf-1] area 3
    [AR4-ospf-1-area-0.0.0.3] nssa no-summary
    ```
