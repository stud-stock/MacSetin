1. Собрать топологию по рисунку Lab_04_4.png

2. Назначить физическим интерфейсам маршрутизаторов адреса, указанные на рисунке
- на AR1 создать петлевой интерфейс и присвоить ему адрес 192.168.0.1/24
- на AR4 создать петлевой интерфейс и присвоить ему адрес 192.168.0.1/24
- на AR3 настроить DHCP пул для раздачи адресов в сеть 172.16.0.0/24, шлюз по умолчанию для DHCP клиентов - AR3
- получить на РС1 адрес от DHCP-сервера:
- получить на интерфейсе Ge0/0/0 AR4 адрес от DHCP-сервера

3. Настроить на AR1, AR2, AR3 RIP-маршрутизацию.
- убедиться, что на AR1, AR2, AR3 есть информация обо всех сетях, отмеченных на топологии.
- убедиться, что с РС1 пингуется адрес 192.168.0.1
- убедиться с помощью трассировки, что пакеты с РС1 до адреса 192.168.0.1 идут через AR1, AR2, AR3.

4. Настроить на R4 RIP-маршрутизацию.
- анонсировать сети 172.16.0.0 и 192.168.0.0

5. Убедиться, что атака сработала:
- дождаться обновления маршрутной информации на AR3
- убедиться с помощью трассировки, что пакеты с РС1 до адреса 192.168.0.1 идут через AR3, AR4, т.е., 
AR4 навязыванием маршрутизатору AR3 ложного маршрута до сети 192.168.0.0, получает доступ к трафику 
узла РС1, предназначенному маршрутизатору AR1

6. Отменить на AR3 прием и отсылку RIP пакетов через интерфейс Ge0/0/0:
[Huawei-GigabitEthernet0/0/0]undo rip input 
[Huawei-GigabitEthernet0/0/0]undo rip output

- этот метод пригоден, когда об сети (172.16.0.0/24) нужно объявить соседям, но в ней больше нет RIP маршрутизаторов
(Туда не нужно передовать маршрутную информацию и оттуда ее не от кого принимать. В этом случае пакеты от злоумышленника
будут игнорироваться. Если бы в этой сети был маршутизатор, от которого нужно было бы принимать маршрутную информацию, но
игнорировать пакеты от неизвестных источников, то это решение не годится)

7. Отменить настройки, сделанные в 6 пункте.

8. На AR1, AR2, AR3 настроить простую аутентификацию маршрутизаторов:
- включить аутентификацию (на каждом интерфейсе раздельно, последнее слово, собственно, и является ключом-паролем):
Huawei-GigabitEthernet0/0/0]rip authentication-mode simple plain Password

- минимально необходимо настроить аутентификацию только на интерфейсах, направленных в "ненадежные" сети 
(например, на Ge0/0/0 маршрутизатора AR3) для предотвращения приема маршрутной информации из недостоверных источников.

9. Дождавшись обновления маршрутной информации (~5мин), убедиться, что нормальный маршрут следования пакетов восстановлен.

10. Перехватить пакеты RIP после включения аутентификации и просмотреть:
- как передается маршрутная информация (шифрованая/нешифрованая)
- как передается информация о пароле.

11. Поменять тип аутентификации на защищенный:
[Huawei-GigabitEthernet0/0/0]rip authentication-mode md5 usual plain Password

12. Повторить пункт 10.

13. Убедиться, что при настроенной аутентификации маршрут следования пакетов восстановился.
