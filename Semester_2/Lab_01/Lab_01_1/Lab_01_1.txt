1. Cобрать топологию по рисунку Lab_01_1.png

2. Назначить на узлах IPv4 адреса:
PC1 - 192.168.1.1/24
PC2 - 192.168.1.2/24

3. Настроить линки между коммутаторами как транковые.

4. Настроить на коммутаторах VLAN N
- настроить порты, к которым присоединены РС0 и РС1 как порты доступа и добавить их к VLAN N

5. Проверить результаты работы STP:
display stp
display stp brief

- определить, как построено дерево (какой коммутатор корневой, каковы роли транковых портов)

6. Убедиться в прохождении пакетов между РС1 и РС2:
- На коммутаторе LSW2 включить перехват пакетов на транковых интерфейсах
- Выполнить команду ping до РС2
- Успешно?
- Через какой интерфейс идут пакеты?
- Почему получен такой результат?

7. Используя команду:

[Huawei]stp priority PRIORITY

- поменять дерево таким образом, чтобы корневым стал коммутатор, ранее имевший порт в Alternate состоянии
(цель упражнения - изменить путь следования кадров - трафик должен пойти через коммутатор, который до этого
пользовательский трафик через себя не пропускал)

8. Повторить пункт 6

9. 
- Определить, какой порт в кольце на данном этапе заблокирован
- используя команду:

[Huawei]stp priority PRIORITY

сделать этот порт назначенным (Не делая при этом данный коммутатор корневым. При необходимости можно изменить приоритет корневого коммутатора)

10. Повторить пункт 6

11. Соединить коммутаторы корневой и один из оставшихся, еще одним линком

12. Для линка, добавленного в пункте 11:
- На корневом коммутаторе - проверить состояние портов (все назначенные) 
- втором коммутаторе - проверить состояние портов, к которым присоединены линки, идущие к корневому коммутатору (один корневой, другой блокированный)
- используя команду:

[Huawei-Ethernet0/0/N]stp port priority PRIORITY

- поменять роли портов (корневой сделать блокированным и наоборот)

13. Удалить линк, добавленный в пункте 11.

14. Вернуть STP дерево в исходное состояние (т.е. отменить изменения, сделанные в п.7)

15. добавить к коммутаторам LSW2 и LSW3 еще по одному узлу (РС3 и РС4)
- присвоить им адреса:
PC3 - 192.168.1.3/24
PC4 - 192.168.1.4/24

16. Убедиться в прохождении пакетов между РС3 и РС4
- c помощью wireshark пронаблюдать путь следования пакетов

17. Настроить на коммутаторах MSTP, выделив VLAN N в отдельный инстанс.
- при этом будет запущен еще один STP процесс
- используя команду:

stp instance N priority PRIORITY

- сделать STP деревья для VLAN N и VLAN 1 разными
- убедится, что путь следования пакетов между РС3 и РС4 с путем следования пакетов между РС1 и РС2 различается
- цель данного упражнения - ручная настройка балансировки нагрузки с помощью STP протокола.
- в среде, где существует несколько STP деревьев, настройки STP протокола можно просматривать с помощью команды:

display stp instance N

18. Выполнить просмотр состояния STP
- по какому стандарту считается pathcost?
- c помощью команды:

stp pathcost-standard STANDART

- настроить STP на использование pathcost по стандарту 802.1d на всех коммутаторах
- пронаблюдать результат
- какой RootPathCost получен?
